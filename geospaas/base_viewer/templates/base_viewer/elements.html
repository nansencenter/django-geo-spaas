{% extends "base_viewer/page_structure.html" %}
##############################################################################################################
{% block content_result %}
<table border=1 style="width:100%">
  <tr>
    {% block headers %}
    <th>Datasets</th>
    {% endblock headers %}
  </tr>

  {% if page_obj %}

  {% for ds in page_obj %}
  <tr class="dataset_row" ajax_url="{% url 'base_viewer:geometry_geojson' ds.geographic_location.pk %}">
    <td>
      {% block ds_info %}
      {% endblock ds_info %}
      {% for url in ds.dataseturi_set.all %}
      {% if show_local_address or url.service != local_file_service %}
      <div class="attr_title">Address:</div>
      <div class="attr_content">{{ url.uri|escape|urlize}} </div>
      {% else %}
      <div class="attr_content">hidden local address of dataset</div>
      {% endif %}
      {% endfor %}
    </td>
    {% endfor %}
    {% else %}
  <tr>
    <td colspan=10 class="place_ds">No datasets found</td>
  </tr>
  {% endif %}
</table>

{% endblock content_result %}
##############################################################################################################
{% block pagination_button_result %}
<div class="pagination">
  <span class="step-links">
    <button form='search_form' {% if page_obj.has_previous %} name="page" value="{{ page_obj.previous_page_number }}"
      type="submit" {% else %} disabled="disabled" {% endif %}>
      Previous
    </button>

    <span class="current">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
    </span>

    <button form='search_form' {% if page_obj.has_next %} name="page" value="{{ page_obj.next_page_number }}"
      type="submit" {% else %} disabled="disabled" {% endif %}>
      Next
    </button>
  </span>
</div>
{% endblock pagination_button_result %}
##############################################################################################################
{% block contentmap %}

<form method="post" width='100%' height='100%' id='search_form'>
  {% csrf_token %}

  {{form.as_p}}

  <input type="submit" value="Search all meta-data" />
</form>
{% endblock contentmap %}
